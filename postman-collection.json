{
  "info": {
    "name": "Vínculo Vital API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Notificaciones",
      "item": [
        {
          "name": "Notificar Llamada",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"message\": \"Tienes una llamada de María García\",\n  \"caller\": \"María García\"\n}"
            },
            "url": {"raw": "{{baseUrl}}/notifications/call", "host": ["{{baseUrl}}"], "path": ["notifications", "call"]}
          }
        },
        {
          "name": "Notificar Recompensa",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"rewardId\": \"{{rewardId}}\",\n  \"message\": \"¡Has desbloqueado: Café Premium!\"\n}"
            },
            "url": {"raw": "{{baseUrl}}/notifications/reward", "host": ["{{baseUrl}}"], "path": ["notifications", "reward"]}
          }
        },
        {
          "name": "Obtener Notificaciones Usuario",
          "request": {
            "method": "GET",
            "url": {"raw": "{{baseUrl}}/notifications/user/{{userId}}?page=1&limit=10", "host": ["{{baseUrl}}"], "path": ["notifications", "user", "{{userId}}"], "query": [{"key": "page", "value": "1"}, {"key": "limit", "value": "10"}]}
          }
        },
        {
          "name": "Marcar Como Leída",
          "request": {
            "method": "PATCH",
            "url": {"raw": "{{baseUrl}}/notifications/{{notificationId}}/read", "host": ["{{baseUrl}}"], "path": ["notifications", "{{notificationId}}", "read"]}
          }
        },
        {
          "name": "Marcar Todas Como Leídas",
          "request": {
            "method": "PATCH",
            "url": {"raw": "{{baseUrl}}/notifications/user/{{userId}}/read-all", "host": ["{{baseUrl}}"], "path": ["notifications", "user", "{{userId}}", "read-all"]}
          }
        },
        {
          "name": "Contar No Leídas",
          "request": {
            "method": "GET",
            "url": {"raw": "{{baseUrl}}/notifications/user/{{userId}}/unread-count", "host": ["{{baseUrl}}"], "path": ["notifications", "user", "{{userId}}", "unread-count"]}
          }
        }
      ]
    },
    {
      "name": "Recompensas",
      "item": [
        {
          "name": "Listar Recompensas",
          "request": {
            "method": "GET",
            "url": {"raw": "{{baseUrl}}/rewards?page=1&limit=10&activeOnly=true", "host": ["{{baseUrl}}"], "path": ["rewards"], "query": [{"key": "page", "value": "1"}, {"key": "limit", "value": "10"}, {"key": "activeOnly", "value": "true"}]}
          }
        },
        {
          "name": "Crear Recompensa",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Café Premium\",\n  \"description\": \"Un delicioso café de cortesía en nuestra cafetería\",\n  \"pointsRequired\": 100,\n  \"imageUrl\": \"https://ejemplo.com/cafe.jpg\",\n  \"isActive\": true\n}"
            },
            "url": {"raw": "{{baseUrl}}/rewards", "host": ["{{baseUrl}}"], "path": ["rewards"]}
          }
        },
        {
          "name": "Obtener Recompensa",
          "request": {
            "method": "GET",
            "url": {"raw": "{{baseUrl}}/rewards/{{rewardId}}", "host": ["{{baseUrl}}"], "path": ["rewards", "{{rewardId}}"]}
          }
        },
        {
          "name": "Actualizar Recompensa",
          "request": {
            "method": "PATCH",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Café Premium Plus\",\n  \"pointsRequired\": 150\n}"
            },
            "url": {"raw": "{{baseUrl}}/rewards/{{rewardId}}", "host": ["{{baseUrl}}"], "path": ["rewards", "{{rewardId}}"]}
          }
        },
        {
          "name": "Asignar Recompensa",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"rewardId\": \"{{rewardId}}\",\n  \"points\": 100\n}"
            },
            "url": {"raw": "{{baseUrl}}/rewards/assign", "host": ["{{baseUrl}}"], "path": ["rewards", "assign"]}
          }
        },
        {
          "name": "Recompensas de Usuario",
          "request": {
            "method": "GET",
            "url": {"raw": "{{baseUrl}}/rewards/user/{{userId}}?status=PENDING", "host": ["{{baseUrl}}"], "path": ["rewards", "user", "{{userId}}"], "query": [{"key": "status", "value": "PENDING"}]}
          }
        },
        {
          "name": "Canjear Recompensa",
          "request": {
            "method": "PATCH",
            "url": {"raw": "{{baseUrl}}/rewards/user-reward/{{userRewardId}}/redeem", "host": ["{{baseUrl}}"], "path": ["rewards", "user-reward", "{{userRewardId}}", "redeem"]}
          }
        },
        {
          "name": "Estadísticas Usuario",
          "request": {
            "method": "GET",
            "url": {"raw": "{{baseUrl}}/rewards/user/{{userId}}/stats", "host": ["{{baseUrl}}"], "path": ["rewards", "user", "{{userId}}", "stats"]}
          }
        }
      ]
    },
    {
      "name": "Historial",
      "item": [
        {
          "name": "Registrar Acción",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"actionType\": \"CALL\",\n  \"description\": \"Llamada completada con María García\",\n  \"metadata\": {\n    \"duration\": \"15:30\",\n    \"callType\": \"video\",\n    \"quality\": \"HD\"\n  }\n}"
            },
            "url": {"raw": "{{baseUrl}}/history", "host": ["{{baseUrl}}"], "path": ["history"]}
          }
        },
        {
          "name": "Historial Completo",
          "request": {
            "method": "GET",
            "url": {"raw": "{{baseUrl}}/history/user/{{userId}}?page=1&limit=20", "host": ["{{baseUrl}}"], "path": ["history", "user", "{{userId}}"], "query": [{"key": "page", "value": "1"}, {"key": "limit", "value": "20"}]}
          }
        },
        {
          "name": "Filtrar por Tipo",
          "request": {
            "method": "GET",
            "url": {"raw": "{{baseUrl}}/history/user/{{userId}}/actions?type=CALL", "host": ["{{baseUrl}}"], "path": ["history", "user", "{{userId}}", "actions"], "query": [{"key": "type", "value": "CALL"}]}
          }
        },
        {
          "name": "Estadísticas",
          "request": {
            "method": "GET",
            "url": {"raw": "{{baseUrl}}/history/user/{{userId}}/stats", "host": ["{{baseUrl}}"], "path": ["history", "user", "{{userId}}", "stats"]}
          }
        },
        {
          "name": "Acciones Recientes",
          "request": {
            "method": "GET",
            "url": {"raw": "{{baseUrl}}/history/user/{{userId}}/recent?hours=24", "host": ["{{baseUrl}}"], "path": ["history", "user", "{{userId}}", "recent"], "query": [{"key": "hours", "value": "24"}]}
          }
        },
        {
          "name": "Contar por Tipo",
          "request": {
            "method": "GET",
            "url": {"raw": "{{baseUrl}}/history/user/{{userId}}/action-count?type=CALL", "host": ["{{baseUrl}}"], "path": ["history", "user", "{{userId}}", "action-count"], "query": [{"key": "type", "value": "CALL"}]}
          }
        }
      ]
    }
  ],
  "variable": [
    {"key": "baseUrl", "value": "http://localhost:3000"},
    {"key": "userId", "value": ""},
    {"key": "rewardId", "value": ""},
    {"key": "notificationId", "value": ""},
    {"key": "userRewardId", "value": ""}
  ]
}